document.body.onload=function(){let c=window.location.href,o,l=1,n,h=document.querySelector("#data"),s=null,u=new URLSearchParams(window.location.search);u.has("tag")||u.has("char")?o="&page=":o="?page=",s=c+o+l,fetch(s,{method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}).then(e=>{if(e.ok)return e.json();n=0}).then(e=>{if(e.html===""){n=0;return}else{let f=function(){t.forEach(a=>{a.textContent.length>25&&(a.textContent=a.textContent.substr(0,25)+"...")})};var r=f;n=e.lastPage,h.innerHTML+=e.html;let t=document.querySelectorAll(".post-titles");f()}}).catch(e=>console.error(e)),window.addEventListener("scroll",function(){window.scrollY+window.innerHeight>=document.documentElement.scrollHeight&&(n==null||l<=n)&&(l++,d(l))});function d(e){let r=new URLSearchParams(window.location.search);r.has("filterBy")||r.has("type")||r.has("tag")||r.has("sort")||r.has("char")?o="&page=":o="?page=",s=c+o+e,fetch(s,{method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}).then(t=>{if(t.ok)return t.json();n=0}).then(t=>{if(t.html===""){n=0;return}else{let m=function(){a.forEach(i=>{i.textContent.length>25&&(i.textContent=i.textContent.substr(0,25)+"...")})};var f=m;n=t.lastPage,h.innerHTML+=t.html;let a=document.querySelectorAll(".post-titles");m()}}).catch(t=>console.error(t))}};
